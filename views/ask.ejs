<link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/css/styles.css" />
    <link rel="stylesheet" href="/css/bootstrap-social.css" />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.15.3/css/all.css"
      integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk"
      crossorigin="anonymous"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Charmonman&family=Corinthia:wght@700&family=Poppins:wght@300&display=swap" rel="stylesheet">
   

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
 
<!-- <form class="ask-form" action="/photos-upload" method="POST" role="form"
enctype="multipart/form-data">
  <div class="mb-3">
    <label for="askTitle" class="form-label"
      ><h4>Caption</h4>
      <p class="ask-p">Be specific and to the point</p>
    </label>
    <input
      type="text"
      class="form-control"
      id="askTitle"
      name="askTitle"
      autocomplete="off"
      placeholder="As Aesthitic as it goes"
      required
    />
  </div>
  <div class="mb-3">
    <label for="askBody" class="form-label"
      >
      <h4>Upload</h4>    
        <input type="file" 
        class="form-control-file" name="image" multiple>
        <br>
  </div>
  <div class="col-12 ask-submit">
    <button type="submit" class="btn btn-primary">Post My Art</button>
  </div>
</form> -->
<style !important>
 @import url(https://fonts.googleapis.com/css?family=Nunito);
@import url(//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css);
*, *:before, *:after {
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
}

html {
  height: 100%;
}

body {
  background: #FFD16E;
  height: 100%;
  padding: 0;
  margin: 0;
  font-size: 16px;
  display: -webkit-flex;
  display: flex;
  -webkit-align-items: center;
  align-items: center;
  -webkit-justify-content: center;
  justify-content: center;
}

.uploadWrapper {
  font-family: 'Nunito', sans-serif;
}

.imageUploadForm {
  background: #6E95F7;
  height: 400px;
  width: 500px;
  position: relative;
  display: -webkit-flex;
  display: flex;
  -webkit-align-items: flex-end;
  align-items: flex-end;
  -webkit-justify-content: center;
  justify-content: center;
  -webkit-flex-wrap: wrap;
  flex-wrap: wrap;
}
.imageUploadForm .helpText {
  color: white;
  display: block;
  position: absolute;
  top: 2%;
  left: 0;
  width: 100%;
  height: 100%;
  text-align: center;
  font-size: 30px;
}
.imageUploadForm .helpText:after {
  content: '\f067';
  font-family: 'FontAwesome';
  font-size: 150%;
  color: rgba(255, 255, 255, 0.5);
  display: -webkit-flex;
  display: flex;
  -webkit-align-items: center;
  align-items: center;
  -webkit-justify-content: center;
  justify-content: center;
  margin: 4% auto auto auto;
  width: 50%;
  height: 50%;
  border: 6px dashed rgba(255, 255, 255, 0.5);
}
.imageUploadForm .pickFile {
  position: absolute;
  bottom: 0;
  left: 0;
  display: block;
  background: white;
  height: 25%;
  width: 100%;
  display: -webkit-flex;
  display: flex;
  -webkit-align-items: center;
  align-items: center;
  -webkit-justify-content: center;
  justify-content: center;
}
.imageUploadForm .pickFileButton {
  display: inline-block;
  padding: 0.7em 2em;
  color: white;
  background: #FB92AE;
  text-decoration: none;
}
.imageUploadForm .pickFileButton:hover {
  text-decoration: none;
}
.imageUploadForm .uploadButton {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  cursor: pointer;
  z-index: 10;
}

.imageUploadForm.loading .helpText {
  font-size: 0;
  top: 7%;
}
.imageUploadForm.loading .helpText:before {
  font-size: 30px;
  content: 'Uploading...';
}
.imageUploadForm.loading .helpText:after {
  display: none;
}
.imageUploadForm.loading .uploadedImg {
  position: absolute;
  bottom: 12.5%;
  left: 12.5%;
  width: 75%;
  height: 65%;
  background-repeat: no-repeat;
  background-position: center center;
  background-size: cover;
  border: 4px solid white;
  -moz-transition: opacity ease-out;
  -o-transition: opacity ease-out;
  -webkit-transition: opacity ease-out;
  transition: opacity ease-out;
}
.imageUploadForm.loading .unveil {
  position: absolute;
  background: #6E95F7;
  display: block;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  -moz-animation: toTop 4s forwards;
  -webkit-animation: toTop 4s forwards;
  animation: toTop 4s forwards;
}
.imageUploadForm.loading .unveil:after {
  content: '';
  position: absolute;
  left: -3%;
  bottom: 0;
  height: 10px;
  width: 106%;
  background: #FFD16E;
  border-radius: 5px;
}
.imageUploadForm.loading .pickFile, .imageUploadForm.loading .uploadButton {
  display: none;
}

.imageUploadForm.loading.loaded {
  height: 200px;
}
.imageUploadForm.loading.loaded .uploadedImg {
  opacity: 0;
}
.imageUploadForm.loading.loaded .helpText:before {
  content: 'Upload Complete!';
}
.imageUploadForm.loading.loaded .helpText:after {
  display: block;
  opacity: 0;
  font-size: 0;
  line-height: 100px;
  -moz-animation: fadeIn 0.4s forwards;
  -webkit-animation: fadeIn 0.4s forwards;
  animation: fadeIn 0.4s forwards;
  content: '\f058';
  color: white;
  margin-top: 2%;
  border-width: 0;
}

@-moz-keyframes toTop {
  to {
    height: 0;
  }
}
@-webkit-keyframes toTop {
  to {
    height: 0;
  }
}
@keyframes toTop {
  to {
    height: 0;
  }
}
@-moz-keyframes fadeIn {
  to {
    opacity: 1;
    font-size: 90px;
  }
}
@-webkit-keyframes fadeIn {
  to {
    opacity: 1;
    font-size: 90px;
  }
}
@keyframes fadeIn {
  to {
    opacity: 1;
    font-size: 90px;
  }
}

</style>
<nav class="navbar sticky-top navbar-expand-lg navbar-dark bg-dark" style="position: absolute;">
  <div class="container-fluid">
    
    <a class="navbar-brand" href="/" >Snapshot</a>
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <!-- <form class="d-flex">
      <input class="form-control me-2 search-width" type="search" placeholder="Search" aria-label="Search" />
      <button class="btn btn-outline-success" type="submit">
        Search
      </button>
    </form> -->
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="/list"
            >Posts</a
          >
        </li>

        <%if(!isAuthenticated){%>

        <li class="nav-item">
          <button type="submit" class="btn btn-outline-light">
            <a class="login-a" href="/login">Log In</a>
          </button>
        </li>
        <li class="nav-item">
          <button type="submit" class="btn btn-outline-light">
            <a class="login-a" href="/signup">Sign Up</a>
          </button>
        </li>

        <%} else{%>
          
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle"
            href="#"
            id="navbarDropdown"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded=""><%= username %> 
          </a>
          
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
            <li><a class="dropdown-item" href="<%= link %>"> View Profile</a></li>
            <li><a class="dropdown-item" href="/logout">Log Out</a></li>
          </ul>
        </li>
      

        </li>

        <!-- <button type="submit" class="btn btn-outline-light">
            <a class="login-a" href="/logout">Log Out</a>
          </button> -->
        <%}%>
      </ul>
    </div>
  </div>
</nav>

<div class="uploadWrapper">
  <form id="imageUploadForm" class="imageUploadForm" action="/photos-upload/<%=username%>" method="POST" enctype="multipart/form-data">
    <div class="mb-3" style="position: absolute;top: -3.5cm;text-align: center;">
      <label for="askTitle" class="form-label"
        ><h4>Caption</h4>
        <p class="ask-p" style="padding:.05;">Be specific and to the point</p>
      </label>
      <input
        type="text"
        class="form-control"
        id="askTitle"
        name="askTitle"
        autocomplete="off"
        placeholder="As Aesthitic as it goes"
        required
      />
    </div>
    <span class="helpText" id="helpText">Upload an image</span>
    <input type="file" id="file" name="image" class="uploadButton" multiple  />
    <div id="uploadedImg" class="uploadedImg">
<span class="unveil"></span> 
    </div>
    <span class="pickFile">
      <a href="#" class="pickFileButton">Pick file</a>
    </span>
    <div class="col-12 ask-submit" style="position:absolute;bottom:-4cm;"!important >
      <button type="submit" class="btn btn-primary">Post My Art</button>
    </div>
  </form>
</div>
  
    

<script>
  

//   function readURL(input) {
//   if (input.files && input.files[0]) {
//     var reader = new FileReader();
    
//     reader.onload = function (e) {
//       var uploadedImg=document.getElementById("uploadedImg")
//       uploadedImg[0].style.backgroundImage='url('+e.target.result+')';
//     };

//     reader.readAsDataURL(input.files[0]);
//   }
// }

// var form_data = document.getElementById("imageUploadForm"), 
//     file_data = document.getElementById("file"), 
//     uploadedImg = document.getElementById("uploadedImg"), 
//     helpText = document.getElementById("helpText")
// ;
// file_data.on('change', function(){
//   readURL(this);
//   form_data.addClass('loading');
// });
// uploadedImg.on('webkitAnimationEnd MSAnimationEnd oAnimationEnd animationend', function(){
//   form_data.addClass('loaded');
// });
// helpText.on('webkitAnimationEnd MSAnimationEnd oAnimationEnd animationend', function(){
//   setTimeout(function() {
//     file_data.val('');  form_data.removeClass('loading').removeClass('loaded');
//   }, 5000);
// });
function readURL(input) {
  if (input.files && input.files[0]) {
    var reader = new FileReader();

    reader.onload = function (e) {
            $uploadedImg[0].style.backgroundImage='url('+e.target.result+')';
    };

    reader.readAsDataURL(input.files[0]);
  }
}

var $form = $("#imageUploadForm"), 
    $file = $("#file"), 
    $uploadedImg = $("#uploadedImg"), 
    $helpText = $("#helpText")
;
$file.on('change', function(){
  readURL(this);
  $form.addClass('loading');
});
$uploadedImg.on('webkitAnimationEnd MSAnimationEnd oAnimationEnd animationend', function(){
  $form.addClass('loaded');
});
$helpText.on('webkitAnimationEnd MSAnimationEnd oAnimationEnd animationend', function(){
  setTimeout(function() {
    $file.val('');  $form.removeClass('loading').removeClass('loaded');
  }, 5000);
});
</script>


 <!-- <%- include('partials/footer') %>  -->
